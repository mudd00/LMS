# ğŸŒ MetaPlaza - 3D ì†Œì…œ ë©”íƒ€ë²„ìŠ¤

> **í˜„ì¬ ë¸Œëœì¹˜**: `kim` (í™œì„± ê°œë°œ) | **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-09

React, Three.js, Spring Bootë¥¼ í™œìš©í•œ 3D ì†Œì…œ ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ì…ë‹ˆë‹¤. ê°€ìƒ ê³µê°„ì—ì„œ ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ê³¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë§Œë‚˜ê³  ì†Œí†µí•˜ë©° ë‹¤ì–‘í•œ í™œë™ì„ ì¦ê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ® 3D ê°€ìƒ ê´‘ì¥
- **ì‹¤ì‹œê°„ 3D ë Œë”ë§**: Three.jsì™€ React Three Fiberë¥¼ í™œìš©í•œ 3D ê·¸ë˜í”½
- **ë¬¼ë¦¬ ì—”ì§„**: React Three Rapierë¡œ í˜„ì‹¤ê° ìˆëŠ” ì›€ì§ì„ êµ¬í˜„
- **ë™ì  ì¡°ëª…**: ê·¸ë¦¼ìì™€ ì¡°ëª… íš¨ê³¼ê°€ ì ìš©ëœ ëª°ì…ê° ìˆëŠ” í™˜ê²½
- **ì‹¤ì‹œê°„ ë©€í‹°í”Œë ˆì´ì–´**: WebSocket(STOMP)ì„ í†µí•œ ì‹¤ì‹œê°„ ì‚¬ìš©ì ë™ê¸°í™”

### ğŸ‘¤ íšŒì› ì‹œìŠ¤í…œ
- **íšŒì›ê°€ì…/ë¡œê·¸ì¸**: JWT ê¸°ë°˜ ì¸ì¦ ì‹œìŠ¤í…œ
- **í”„ë¡œí•„ ê´€ë¦¬**: ë‹‰ë„¤ì„, ë ˆë²¨, í”„ë¡œí•„ ì´ë¯¸ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•
- **ê´€ë¦¬ì ê¶Œí•œ**: ROLE_USER, ROLE_DEVELOPER ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´

### ğŸš¶â€â™‚ï¸ ìºë¦­í„° ì‹œìŠ¤í…œ
- **3D ìºë¦­í„°**: BaseCharacter.gltf ê¸°ë°˜ ìºë¦­í„°
- **ì• ë‹ˆë©”ì´ì…˜**: Idle, Walk, Run ìƒíƒœ ìë™ ì „í™˜
- **í‚¤ë³´ë“œ ì¡°ì‘**: WASD/ë°©í–¥í‚¤ë¡œ ì´ë™, Shiftë¡œ ë‹¬ë¦¬ê¸°
- **ìƒì  ì•„ë°”íƒ€**: ìƒì ì—ì„œ êµ¬ë§¤í•œ ì•„ë°”íƒ€ë¡œ ë³€ê²½ ê°€ëŠ¥
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ë‹¤ë¥¸ í”Œë ˆì´ì–´ë“¤ì—ê²Œ ë‚´ ìœ„ì¹˜/ì• ë‹ˆë©”ì´ì…˜ ì‹¤ì‹œê°„ ì „ì†¡

### ğŸ’¬ ì‹¤ì‹œê°„ ì†Œì…œ ê¸°ëŠ¥
- **ì „ì—­ ì±„íŒ…**: ê´‘ì¥ ë‚´ ëª¨ë“  ì‚¬ìš©ìì™€ ì‹¤ì‹œê°„ ì±„íŒ…
- **ì±„íŒ… ë§í’ì„ **: ìºë¦­í„° ìœ„ì— ë§í’ì„ ìœ¼ë¡œ ë©”ì‹œì§€ í‘œì‹œ (5ì´ˆê°„)
- **ì¹œêµ¬ ì‹œìŠ¤í…œ**: ì¹œêµ¬ ì¶”ê°€, ì¹œêµ¬ ëª©ë¡ ê´€ë¦¬
- **DM(Direct Message)**: ì¹œêµ¬ì™€ 1:1 ì±„íŒ…
- **ì˜¨ë¼ì¸ ìƒíƒœ**: ì‹¤ì‹œê°„ ì ‘ì†ì ìˆ˜ í‘œì‹œ
- **ì‚¬ìš©ì í”„ë¡œí•„**: ë‹¤ë¥¸ í”Œë ˆì´ì–´ ìš°í´ë¦­ìœ¼ë¡œ í”„ë¡œí•„ ë³´ê¸°

### ğŸ“‹ ê²Œì‹œíŒ ì‹œìŠ¤í…œ
- **ê²Œì‹œíŒ**: ììœ ê²Œì‹œíŒ, ê³µì§€ì‚¬í•­ ë“± ë‹¤ì–‘í•œ ê²Œì‹œíŒ
- **ê²Œì‹œê¸€ ì‘ì„±/ìˆ˜ì •/ì‚­ì œ**: ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ì‘ì„± ê°€ëŠ¥
- **ëŒ“ê¸€**: ê²Œì‹œê¸€ì— ëŒ“ê¸€ ì‘ì„±/ì‚­ì œ
- **ì¢‹ì•„ìš”**: ê²Œì‹œê¸€/ëŒ“ê¸€ ì¢‹ì•„ìš” ê¸°ëŠ¥
- **ì‹ ê³ **: ë¶€ì ì ˆí•œ ê²Œì‹œê¸€/ëŒ“ê¸€ ì‹ ê³ 

### ğŸ® ë¯¸ë‹ˆê²Œì„ ì‹œìŠ¤í…œ
- **ê²Œì„ ë¡œë¹„**: ë¯¸ë‹ˆê²Œì„ ë°© ëª©ë¡ ì¡°íšŒ, ê´€ì „ì ìˆ˜ ì‹¤ì‹œê°„ í‘œì‹œ
- **ë°© ìƒì„±**: ì‚¬ìš©ìê°€ ê²Œì„ ë°© ìƒì„± (ê²Œì„ ì„ íƒ, ì¸ì› ì„¤ì •)
- **ê²Œì„ ì°¸ê°€**: ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ë§Œë“  ë°©ì— ì…ì¥
- **ëŒ€ê¸°ë°©**: ì¤‘ë³µ ì…ì¥ ë°©ì§€, ì°¸ê°€ì ëª©ë¡ í‘œì‹œ
- **ê²Œì„ ê´€ì „**: ì§„í–‰ ì¤‘ì¸ ê²Œì„ ê´€ì „ ê¸°ëŠ¥
- **ê²Œì„ ì´ˆëŒ€**: ì¹œêµ¬ë¥¼ ê²Œì„ì— ì´ˆëŒ€
- **êµ¬í˜„ëœ ê²Œì„**:
  - ì˜¤ëª© (Omok): 2ì¸ ëŒ€ì „
  - ë°˜ì‘ì†ë„ ê²Œì„ (Reaction Race): ì—¬ëŸ¬ ëª… ì°¸ì—¬ ê°€ëŠ¥

### ğŸ’° ê²½ì œ ì‹œìŠ¤í…œ
- **ì¬í™”**: Silver Coin(ì¼ë°˜ ì¬í™”), Gold Coin(ìœ ë£Œ ì¬í™”)
- **ìƒì **: ì•„ë°”íƒ€, í”„ë¡œí•„ ì´ë¯¸ì§€, ì•„ì›ƒë¼ì¸ ì´ë¯¸ì§€ êµ¬ë§¤
- **ì¸ë²¤í† ë¦¬**: êµ¬ë§¤í•œ ì•„ì´í…œ ê´€ë¦¬ ë° ì°©ìš©
- **ê²°ì œ**: TossPayments ì—°ë™ (Gold Coin ì¶©ì „)
- **ì¬í™” êµí™˜**: Gold Coinì„ Silver Coinìœ¼ë¡œ êµí™˜
- **ì¶œì„ ì²´í¬**: ë§¤ì¼ ì¶œì„í•˜ì—¬ Silver/Gold Coin íšë“

### ğŸ—ºï¸ ì§€ë„ ì—°ë™
- **Mapbox ì§€ë„**: ì‹¤ì œ ì§€ë¦¬ ì •ë³´ ì—°ë™
- **GPS ìœ„ì¹˜**: ì‚¬ìš©ìì˜ í˜„ì¬ ìœ„ì¹˜ ê¸°ë°˜ ìºë¦­í„° ìŠ¤í°
- **ì§€ë„ ëª¨ë“œ**: 3D ê´‘ì¥ê³¼ ì§€ë„ ëª¨ë“œ ì „í™˜ ê°€ëŠ¥

### ğŸ”” ì•Œë¦¼ ì‹œìŠ¤í…œ
- **ì¹œêµ¬ ìš”ì²­ ì•Œë¦¼**: ì¹œêµ¬ ìš”ì²­ ìˆ˜ì‹  ì‹œ ì‹¤ì‹œê°„ ì•Œë¦¼
- **ê²Œì„ ì´ˆëŒ€ ì•Œë¦¼**: ê²Œì„ ì´ˆëŒ€ ìˆ˜ì‹  ì‹œ ì•Œë¦¼
- **DM ì•Œë¦¼**: ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ ì•Œë¦¼
- **í† ìŠ¤íŠ¸ ì•Œë¦¼**: í™”ë©´ ìš°ì¸¡ ìƒë‹¨ì— íŒì—… ì•Œë¦¼
- **ì•Œë¦¼ ì„¼í„°**: ê³¼ê±° ì•Œë¦¼ ì´ë ¥ ì¡°íšŒ

### ğŸ‘‘ ê´€ë¦¬ì ê¸°ëŠ¥
- **ìœ ì € ê´€ë¦¬**: ì‚¬ìš©ì ëª©ë¡, ì—­í•  ë³€ê²½
- **ê²Œì‹œíŒ ê´€ë¦¬**: ê²Œì‹œê¸€/ëŒ“ê¸€ ì‚­ì œ, ê³µì§€ì‚¬í•­ ì‘ì„±
- **ì‹ ê³  ê´€ë¦¬**: ì‹ ê³ ëœ ê²Œì‹œê¸€/ëŒ“ê¸€ ê²€í†  ë° ì²˜ë¦¬
- **ì œì¬**: ì‚¬ìš©ì ì •ì§€ (ê¸°ê°„ ì„¤ì • ê°€ëŠ¥)
- **í†µê³„**: íšŒì› ìˆ˜, ê²Œì‹œê¸€ ìˆ˜ ë“± ëŒ€ì‹œë³´ë“œ

## ğŸ® ì¡°ì‘ë²•

| í‚¤ | ê¸°ëŠ¥ |
|---|---|
| `W` / `â†‘` | ì•ìœ¼ë¡œ ì´ë™ |
| `S` / `â†“` | ë’¤ë¡œ ì´ë™ |
| `A` / `â†` | ì™¼ìª½ìœ¼ë¡œ ì´ë™ |
| `D` / `â†’` | ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™ |
| `Shift` | ë‹¬ë¦¬ê¸° (ì´ë™ í‚¤ì™€ í•¨ê»˜) |
| `Enter` | ì±„íŒ… ì…ë ¥ |
| `ESC` | ë©”ë‰´ ë‹«ê¸° |
| `C` | ì¹´ë©”ë¼ ìœ„ì¹˜ ë¡œê·¸ ì¶œë ¥ (ê°œë°œìš©) |
| **ìš°í´ë¦­** | ë‹¤ë¥¸ í”Œë ˆì´ì–´ ìš°í´ë¦­ ì‹œ ë©”ë‰´ (í”„ë¡œí•„ ë³´ê¸°, ì¹œêµ¬ ì¶”ê°€) |

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **React 19.1.1**: ìµœì‹  React
- **Three.js 0.179.1**: 3D ê·¸ë˜í”½ ë Œë”ë§
- **React Three Fiber 9.3.0**: Reactì™€ Three.js í†µí•©
- **React Three Drei 10.7.4**: Three.js í—¬í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **React Three Rapier 2.2.0**: ë¬¼ë¦¬ ì—”ì§„
- **React Router 7.9.6**: SPA ë¼ìš°íŒ…
- **Axios 1.13.2**: HTTP í†µì‹ 
- **STOMP/SockJS**: ì‹¤ì‹œê°„ WebSocket í†µì‹ 
- **Mapbox GL 2.15.0**: ì§€ë„ ì„œë¹„ìŠ¤
- **Supabase JS 2.86.0**: ë°ì´í„°ë² ì´ìŠ¤ í´ë¼ì´ì–¸íŠ¸
- **jwt-decode 4.0.0**: JWT ë””ì½”ë”©
- **TossPayments SDK 1.9.2**: ê²°ì œ ì‹œìŠ¤í…œ

### Backend
- **Spring Boot 3.2.0**: ë©”ì¸ ë°±ì—”ë“œ í”„ë ˆì„ì›Œí¬
- **Java 17**: JDK ë²„ì „
- **Spring Security**: ì¸ì¦ ë° ê¶Œí•œ ê´€ë¦¬
- **JWT (JJWT 0.12.3)**: í† í° ê¸°ë°˜ ì¸ì¦
- **Spring Data JPA**: ë°ì´í„°ë² ì´ìŠ¤ ORM
- **Spring WebSocket**: ì‹¤ì‹œê°„ í†µì‹ 
- **PostgreSQL**: ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ (Supabase)
- **Gradle**: ë¹Œë“œ íˆ´

### ë°°í¬
- **Frontend**: Netlify (ìë™ ë°°í¬)
- **Backend**: Render (Docker ì»¨í…Œì´ë„ˆ)
- **Database**: Supabase PostgreSQL

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### í•„ìš” ì¡°ê±´
- **Frontend**: Node.js 18.0 ì´ìƒ, npm
- **Backend**: JDK 17 ì´ìƒ, Gradle
- **Database**: PostgreSQL (Supabase ì‚¬ìš©)

### Frontend ì„¤ì¹˜ ë° ì‹¤í–‰
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/kimkichan1225/3DCommunity
cd MetaPlaza

# ì˜ì¡´ì„± ì„¤ì¹˜ (peer dependency ê²½ê³ ë¡œ ì¸í•´ --legacy-peer-deps í•„ìš”)
npm install --legacy-peer-deps

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm start
```
ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000`ìœ¼ë¡œ ì ‘ì†

### Backend ì„¤ì • ë° ì‹¤í–‰
```bash
# Backend ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# Gradle ë¹Œë“œ ë° ì‹¤í–‰ (Windows)
gradlew bootRun

# Gradle ë¹Œë“œ ë° ì‹¤í–‰ (Mac/Linux)
./gradlew bootRun

# ë˜ëŠ” IntelliJ IDEAì—ì„œ CommunityApplication.java ì‹¤í–‰ (ê¶Œì¥)
```
ë°±ì—”ë“œ ì„œë²„ëŠ” `http://localhost:8080`ì—ì„œ ì‹¤í–‰

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

Frontend `.env` íŒŒì¼:
```env
REACT_APP_API_URL=http://localhost:8080
REACT_APP_MAPBOX_TOKEN=your_mapbox_token_here
```

Backend `application.yml`:
```yaml
spring:
  datasource:
    url: jdbc:postgresql://your-supabase-url:5432/postgres
    username: your_username
    password: your_password
  jpa:
    hibernate:
      ddl-auto: update

jwt:
  secret: your_jwt_secret_key
  expiration: 86400000  # 24ì‹œê°„
```

## ğŸŒ ë°°í¬

### Frontend ë°°í¬ (Netlify)
```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# Netlify CLIë¡œ ë°°í¬
netlify deploy --prod
```

**ë°°í¬ ì„¤ì •**:
- **ë¹Œë“œ ëª…ë ¹ì–´**: `npm run build`
- **ë°°í¬ ë””ë ‰í† ë¦¬**: `build`
- **Node ë²„ì „**: 18
- **í™˜ê²½ ë³€ìˆ˜**: `.env` íŒŒì¼ì˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ Netlify ì„¤ì •ì— ì¶”ê°€

### Backend ë°°í¬ (Render)
**Dockerfile ê¸°ë°˜ ë°°í¬**:
- Docker ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ Renderì— ìë™ ë°°í¬
- `backend/Dockerfile`ì—ì„œ ë¹Œë“œ ë° ì‹¤í–‰ ì„¤ì •
- í™˜ê²½ ë³€ìˆ˜ëŠ” Render ëŒ€ì‹œë³´ë“œì—ì„œ ì„¤ì •
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ëŠ” Supabase ì—°ê²°

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
MetaPlaza/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ Ultimate Animated Character Pack/  # ìºë¦­í„° ëª¨ë¸
â”‚   â”‚       â”œâ”€â”€ GameView/                         # ë§µ ëª¨ë¸
â”‚   â”‚       â”œâ”€â”€ Icon/                             # UI ì•„ì´ì½˜
â”‚   â”‚       â””â”€â”€ Sounds/                           # ì˜¤ë””ì˜¤ íŒŒì¼
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ features/                   # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ (feature-based)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/                  # ë¡œê·¸ì¸/íšŒì›ê°€ì…
â”‚   â”‚   â”‚   â”œâ”€â”€ board/                 # ê²Œì‹œíŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ profile/               # í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ shop/                  # ìƒì 
â”‚   â”‚   â”‚   â”œâ”€â”€ inventory/             # ì¸ë²¤í† ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ payment/               # ê²°ì œ
â”‚   â”‚   â”‚   â”œâ”€â”€ event/                 # ì´ë²¤íŠ¸/ì¶œì„ì²´í¬
â”‚   â”‚   â”‚   â”œâ”€â”€ minigame/              # ë¯¸ë‹ˆê²Œì„
â”‚   â”‚   â”‚   â”œâ”€â”€ map/                   # ì§€ë„
â”‚   â”‚   â”‚   â””â”€â”€ system/settings/       # ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ components/                 # ê³µìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ character/             # ìºë¦­í„° ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ camera/                # ì¹´ë©”ë¼ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ map/                   # ë§µ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalChat.jsx         # ì „ì—­ ì±„íŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ PhoneUI.jsx            # ì¹œêµ¬/DM UI
â”‚   â”‚   â”‚   â”œâ”€â”€ Notification.jsx       # ì•Œë¦¼
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ services/                   # API ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ multiplayerService.js  # ë©€í‹°í”Œë ˆì´ì–´ WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ minigameService.js     # ë¯¸ë‹ˆê²Œì„ WebSocket
â”‚   â”‚   â”‚   â”œâ”€â”€ friendService.js       # ì¹œêµ¬ API
â”‚   â”‚   â”‚   â”œâ”€â”€ currencyService.js     # ì¬í™” API
â”‚   â”‚   â”‚   â”œâ”€â”€ attendanceService.js   # ì¶œì„ API
â”‚   â”‚   â”‚   â””â”€â”€ notificationService.js # ì•Œë¦¼ ì„œë¹„ìŠ¤
â”‚   â”‚   â”œâ”€â”€ pages/admin/                # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ App.js                      # ë©”ì¸ ì•±
â”‚   â”‚   â”œâ”€â”€ AppRouter.jsx               # ë¼ìš°í„°
â”‚   â”‚   â””â”€â”€ index.js                    # ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/main/java/com/community/
â”‚   â”‚   â”œâ”€â”€ controller/         # REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ BoardController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ PostController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CommentController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ FriendController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ MessageController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ShopController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ PaymentController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ CurrencyController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AttendanceController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ MinigameController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ MultiplayerController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ReportController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ LikeController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ NoticeController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfileItemController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ UserShopController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminBoardController.java
â”‚   â”‚   â”‚   â”œâ”€â”€ AdminProfileController.java
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ service/            # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ repository/         # JPA Repository
â”‚   â”‚   â”œâ”€â”€ model/              # JPA Entity
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Board.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Post.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Comment.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Friendship.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Message.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ShopItem.java
â”‚   â”‚   â”‚   â”œâ”€â”€ UserShop.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Currency.java
â”‚   â”‚   â”‚   â”œâ”€â”€ Attendance.java
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ dto/                # DTO
â”‚   â”‚   â”œâ”€â”€ security/           # JWT ì¸ì¦
â”‚   â”‚   â”‚   â”œâ”€â”€ JwtTokenProvider.java
â”‚   â”‚   â”‚   â””â”€â”€ JwtAuthenticationFilter.java
â”‚   â”‚   â””â”€â”€ config/
â”‚   â”‚       â”œâ”€â”€ SecurityConfig.java
â”‚   â”‚       â”œâ”€â”€ WebSocketConfig.java
â”‚   â”‚       â””â”€â”€ DataInitializer.java
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â””â”€â”€ application.yml
â”‚   â””â”€â”€ build.gradle
â”‚
â””â”€â”€ README.md
```

## ğŸ“Š ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦
- `POST /api/auth/register` - íšŒì›ê°€ì…
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `POST /api/auth/logout` - ë¡œê·¸ì•„ì›ƒ

### í”„ë¡œí•„
- `GET /api/profile` - í˜„ì¬ ì‚¬ìš©ì í”„ë¡œí•„ ì¡°íšŒ
- `PUT /api/profile` - í”„ë¡œí•„ ìˆ˜ì •

### ê²Œì‹œíŒ
- `GET /api/boards` - ê²Œì‹œíŒ ëª©ë¡
- `GET /api/boards/{id}/posts` - ê²Œì‹œê¸€ ëª©ë¡
- `POST /api/posts` - ê²Œì‹œê¸€ ì‘ì„±
- `GET /api/posts/{id}` - ê²Œì‹œê¸€ ìƒì„¸
- `PUT /api/posts/{id}` - ê²Œì‹œê¸€ ìˆ˜ì •
- `DELETE /api/posts/{id}` - ê²Œì‹œê¸€ ì‚­ì œ
- `POST /api/posts/{id}/comments` - ëŒ“ê¸€ ì‘ì„±
- `POST /api/posts/{id}/like` - ê²Œì‹œê¸€ ì¢‹ì•„ìš”

### ì¹œêµ¬
- `GET /api/friends` - ì¹œêµ¬ ëª©ë¡
- `POST /api/friends/request` - ì¹œêµ¬ ìš”ì²­
- `POST /api/friends/accept/{id}` - ì¹œêµ¬ ìˆ˜ë½
- `POST /api/friends/reject/{id}` - ì¹œêµ¬ ê±°ì ˆ
- `DELETE /api/friends/{id}` - ì¹œêµ¬ ì‚­ì œ

### ë©”ì‹œì§€ (DM)
- `GET /api/messages/{friendId}` - DM ë‚´ì—­ ì¡°íšŒ
- WebSocket `/app/dm.send` - DM ì „ì†¡

### ìƒì 
- `GET /api/shop/items` - ìƒì  ì•„ì´í…œ ëª©ë¡
- `POST /api/shop/purchase` - ì•„ì´í…œ êµ¬ë§¤
- `GET /api/usershop/inventory` - ì¸ë²¤í† ë¦¬ ì¡°íšŒ
- `POST /api/usershop/equip/{id}` - ì•„ì´í…œ ì°©ìš©

### ì¬í™”
- `GET /api/currency` - ì¬í™” ì¡°íšŒ
- `POST /api/currency/exchange` - Gold Coin â†’ Silver Coin êµí™˜

### ê²°ì œ
- `POST /api/payment/charge` - Gold Coin ì¶©ì „ (TossPayments)
- `POST /api/payment/verify` - ê²°ì œ ê²€ì¦

### ì¶œì„ ì²´í¬
- `POST /api/attendance/check` - ì¶œì„ ì²´í¬
- `GET /api/attendance/today` - ì˜¤ëŠ˜ ì¶œì„ ì—¬ë¶€

### ì¢‹ì•„ìš”
- `POST /api/likes/post/{postId}` - ê²Œì‹œê¸€ ì¢‹ì•„ìš”
- `POST /api/likes/comment/{commentId}` - ëŒ“ê¸€ ì¢‹ì•„ìš”
- `DELETE /api/likes/post/{postId}` - ê²Œì‹œê¸€ ì¢‹ì•„ìš” ì·¨ì†Œ

### ê³µì§€ì‚¬í•­
- `GET /api/notices` - ê³µì§€ì‚¬í•­ ëª©ë¡
- `POST /api/notices` - ê³µì§€ì‚¬í•­ ì‘ì„± (ê´€ë¦¬ì)
- `PUT /api/notices/{id}` - ê³µì§€ì‚¬í•­ ìˆ˜ì • (ê´€ë¦¬ì)
- `DELETE /api/notices/{id}` - ê³µì§€ì‚¬í•­ ì‚­ì œ (ê´€ë¦¬ì)

### ë¯¸ë‹ˆê²Œì„
- `POST /api/minigame/room/create` - ê²Œì„ ë°© ìƒì„±
- `POST /api/minigame/room/join/{roomId}` - ê²Œì„ ë°© ì…ì¥
- `POST /api/minigame/room/leave/{roomId}` - ê²Œì„ ë°© ë‚˜ê°€ê¸°
- `GET /api/minigame/rooms` - ê²Œì„ ë°© ëª©ë¡

### WebSocket
- `/app/multiplayer.connect` - ë©€í‹°í”Œë ˆì´ì–´ ì ‘ì†
- `/app/multiplayer.move` - ìœ„ì¹˜ ì—…ë°ì´íŠ¸
- `/app/chat.send` - ì „ì—­ ì±„íŒ… ì „ì†¡
- `/app/dm.send` - DM ì „ì†¡
- `/app/minigame.*` - ë¯¸ë‹ˆê²Œì„ ì´ë²¤íŠ¸
- `/app/friend.*` - ì¹œêµ¬ ê´€ë ¨ ì´ë²¤íŠ¸

## ğŸ¨ ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### ì‹¤ì‹œê°„ ë©€í‹°í”Œë ˆì´ì–´
- WebSocket(STOMP) ê¸°ë°˜ ì‹¤ì‹œê°„ í†µì‹ 
- ì‚¬ìš©ì ìœ„ì¹˜/íšŒì „/ì• ë‹ˆë©”ì´ì…˜ ë™ê¸°í™”
- ì ‘ì†/í‡´ì¥ ì•Œë¦¼
- ì˜¨ë¼ì¸ ì¸ì› ìˆ˜ ì‹¤ì‹œê°„ í‘œì‹œ
- ì¤‘ë³µ ë¡œê·¸ì¸ ë°©ì§€

### ì±„íŒ… ì‹œìŠ¤í…œ
- **ì „ì—­ ì±„íŒ…**: ê´‘ì¥ ë‚´ ëª¨ë“  ì‚¬ìš©ìì™€ ì±„íŒ…
- **ì±„íŒ… ë§í’ì„ **: ìºë¦­í„° ìœ„ 5ì´ˆê°„ ë§í’ì„  í‘œì‹œ
- **DM**: ì¹œêµ¬ì™€ 1:1 ëŒ€í™”
- **ì…ë ¥ ì¤‘ ì´ë™ ì°¨ë‹¨**: ì±„íŒ… ì…ë ¥ ì‹œ ìºë¦­í„° ì´ë™ ìë™ ì°¨ë‹¨

### ë¯¸ë‹ˆê²Œì„
- **ì˜¤ëª©**: 15x15 ë³´ë“œì—ì„œ 2ì¸ ëŒ€ì „, 5ê°œ ì—°ì† ë°°ì¹˜ ì‹œ ìŠ¹ë¦¬
- **ë°˜ì‘ì†ë„ ê²Œì„**: ì‹ í˜¸ì— ë¹ ë¥´ê²Œ ë°˜ì‘í•˜ì—¬ ìˆœìœ„ ê²½ìŸ
- **ë¡œë¹„ ì‹œìŠ¤í…œ**:
  - ì‹¤ì‹œê°„ ë°© ëª©ë¡ ì¡°íšŒ
  - ê´€ì „ì ìˆ˜ í‘œì‹œ (ê²Œì„ ì¤‘ì¸ ë°©)
  - ì¤‘ë³µ ì…ì¥ ë°©ì§€
  - ëŒ€ê¸°ë°©ì—ì„œ ì°¸ê°€ì ëª©ë¡ í™•ì¸

### ê²½ì œ ì‹œìŠ¤í…œ
- **Silver Coin**: ì¶œì„ ì²´í¬, ê²Œì„ ë³´ìƒìœ¼ë¡œ íšë“
- **Gold Coin**: ì‹¤ì œ ê²°ì œë¡œ ì¶©ì „, Silver Coinìœ¼ë¡œ êµí™˜ ê°€ëŠ¥
- **ìƒì **: ì•„ë°”íƒ€, í”„ë¡œí•„, ì•„ì›ƒë¼ì¸ êµ¬ë§¤
- **ì¸ë²¤í† ë¦¬**: êµ¬ë§¤ ì•„ì´í…œ ê´€ë¦¬ ë° ì°©ìš©

## ğŸ”§ ê°œë°œ ì •ë³´

### ë¸Œë¼ìš°ì € ì§€ì›
- Chrome, Firefox, Safari, Edge (WebGL 2.0 ì§€ì› í•„ìˆ˜)
- ëª¨ë°”ì¼ ë¸Œë¼ìš°ì € (í„°ì¹˜ ì¡°ì‘ ë¯¸ì§€ì›)

### ì„±ëŠ¥ ìµœì í™”
- 3D ëª¨ë¸ í”„ë¦¬ë¡œë“œë¡œ ë¡œë”© ì‹œê°„ ë‹¨ì¶•
- ëª¨ë¸ í´ë¡ ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨í™”
- WebSocket ì¬ì—°ê²° ë¡œì§
- ê·¸ë¦¼ì ë§µ í’ˆì§ˆ ì¡°ì ˆ (ì„¤ì •ì—ì„œ ë³€ê²½ ê°€ëŠ¥)

## ğŸ› ï¸ ë¬¸ì œí•´ê²° ì‚¬ë¡€

### ë°±ì—”ë“œ ì‹œì‘ ì‹œê°„ ìµœì í™” (2026-01-20)

#### ë¬¸ì œ
- Spring Boot ë°±ì—”ë“œ ì‹œì‘ ì‹œê°„ì´ ê³¼ë„í•˜ê²Œ ì˜¤ë˜ ê±¸ë¦¼
- DataInitializerì—ì„œ ë§¤ë²ˆ ëª¨ë“  ì‚¬ìš©ìë¥¼ ì¡°íšŒí•˜ì—¬ ê¸°ë³¸ ì•„ì´í…œ ì§€ê¸‰
- SQL ì¿¼ë¦¬ ë¡œê¹… ë° DEBUG ë ˆë²¨ ë¡œê¹…ìœ¼ë¡œ ì½˜ì†” ì¶œë ¥ ì˜¤ë²„í—¤ë“œ ë°œìƒ
- WebSocket ì—°ê²° ì‹œ `NullPointerException` ë°œìƒ

#### í•´ê²°ì±…

**1. application.yml ìµœì í™”**
```yaml
spring:
  main:
    lazy-initialization: true  # ë¹ˆ ì§€ì—° ë¡œë”© í™œì„±í™”
  jpa:
    show-sql: false            # SQL ë¡œê¹… ë¹„í™œì„±í™”
    hibernate:
      ddl-auto: none           # ìŠ¤í‚¤ë§ˆ ê²€ì¦ ìƒëµ (ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê²½ìš°)
    properties:
      hibernate:
        jdbc:
          batch_size: 20       # ë°°ì¹˜ ì²˜ë¦¬ ì„¤ì •
        order_inserts: true
        order_updates: true

logging:
  level:
    root: WARN                 # ë¡œê¹… ë ˆë²¨ ìµœì í™”
    com.community: INFO
    org.hibernate: WARN
```

**2. DataInitializer ìµœì í™”**
- `@Transactional` ì¶”ê°€ë¡œ ë‹¨ì¼ íŠ¸ëœì­ì…˜ ì²˜ë¦¬
- `saveAll()` ë°°ì¹˜ ì²˜ë¦¬ë¡œ ê°œë³„ ì¿¼ë¦¬ ê°ì†Œ
- ì´ë¯¸ ì´ˆê¸°í™”ëœ ê²½ìš° ë¹ ë¥´ê²Œ ìŠ¤í‚µí•˜ëŠ” ë¡œì§ ì¶”ê°€
- `grantDefaultItemsToAllUsers()` ì œê±° (ë§¤ë²ˆ ì „ì²´ ì‚¬ìš©ì ì¡°íšŒí•˜ë˜ ë³‘ëª©)

**3. WebSocketEventListener ìˆ˜ì •**
```java
// ì„¸ì…˜ ì†ì„± null ì²´í¬ ì¶”ê°€
var sessionAttributes = headerAccessor.getSessionAttributes();
if (sessionAttributes == null) {
    log.debug("Session attributes is null, skipping event");
    return;
}
```

**4. FriendService íŠ¸ëœì­ì…˜ ì¶”ê°€**
```java
@Service
@Transactional(readOnly = true)  // í´ë˜ìŠ¤ ë ˆë²¨ íŠ¸ëœì­ì…˜ ì¶”ê°€
public class FriendService { ... }
```

#### ê²°ê³¼
| í•­ëª© | ë³€ê²½ ì „ | ë³€ê²½ í›„ |
|------|---------|---------|
| DataInitializer | ìˆ˜ ì´ˆ | ~1ì´ˆ |
| SQL ë¡œê¹… | í™œì„±í™” (ì½˜ì†” ìŠ¤íŒ¸) | ë¹„í™œì„±í™” |
| ë¡œê¹… ë ˆë²¨ | DEBUG | WARN/INFO |
| WebSocket ì˜¤ë¥˜ | NullPointerException | ì •ìƒ ì‘ë™ |
| ì¹œêµ¬ ëª©ë¡ API | 500 ì˜¤ë¥˜ | ì •ìƒ ì‘ë™ |

#### ì£¼ì˜ì‚¬í•­
- `ddl-auto: none`ìœ¼ë¡œ ë³€ê²½ ì‹œ, ìƒˆ ì—”í‹°í‹° ì¶”ê°€í•˜ë©´ DB ìŠ¤í‚¤ë§ˆ ìˆ˜ë™ ì—…ë°ì´íŠ¸ í•„ìš”
- ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš°: `DB_DDL_AUTO=update` í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© ë˜ëŠ” yml ì„ì‹œ ë³€ê²½
- `open-in-view: true` ìœ ì§€ (Lazy Loading ë¬¸ì œ ë°©ì§€)

---

### Git ë¸Œëœì¹˜ ì „ëµ
- `main`: í”„ë¡œë•ì…˜ ì½”ë“œ (ë°°í¬ìš©)
- `kim`: í˜„ì¬ í™œì„± ê°œë°œ ë¸Œëœì¹˜ (2025-12-04 ê¸°ì¤€)
- `kichan`: ê¸°ëŠ¥ ë¸Œëœì¹˜

**ì‘ì—… íë¦„**:
1. `kim` ë¸Œëœì¹˜ì—ì„œ ìµœì‹  ì½”ë“œ pull
2. ê¸°ëŠ¥ë³„ `features/` ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì—…
3. ì»¤ë°‹ ë° `kim` ë¸Œëœì¹˜ì— push
4. ì¶©ë¶„í•œ í…ŒìŠ¤íŠ¸ í›„ `main` ë¸Œëœì¹˜ë¡œ ë³‘í•©

**ìµœê·¼ ì—…ë°ì´íŠ¸** (2026-01-09):
- âœ¨ feat: ë¡œë¹„ì— ê´€ì „ì ìˆ˜ í•­ìƒ í‘œì‹œ
- ğŸ› fix: ë¡œë¹„ ì¤‘ë³µ ë°© í‘œì‹œ ë¬¸ì œ í•´ê²° ë° ë ˆì´ì•„ì›ƒ ê°€ë¡œ ë°°ì¹˜
- ğŸ› fix: ë¡œë¹„ ë°© ëª©ë¡ ì¶œë ¥ ë° ê²Œì„ ì¤‘ ê´€ì „ì ì…ì¥ ê¸°ëŠ¥ ê°œì„ 
- ğŸ› fix: ëŒ€ê¸°ë°© ì¤‘ë³µ ì…ì¥ ë°©ì§€ ê¸°ëŠ¥ ì¶”ê°€
- ğŸš€ fix: Render ë°°í¬ë¥¼ ìœ„í•œ Dockerfile ìµœì í™”

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“§ ì—°ë½ì²˜

- GitHub: [@kimkichan1225](https://github.com/kimkichan1225)
- Repository: [3DCommunity](https://github.com/kimkichan1225/3DCommunity)

---

**MetaPlazaì—ì„œ ìƒˆë¡œìš´ ì†Œì…œ ê²½í—˜ì„ ì‹œì‘í•˜ì„¸ìš”! ğŸŒâœ¨**
